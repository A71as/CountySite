<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hudson County District Map</title>

  <!-- Leaflet 1.9.4 from cdnjs (reliable CDN) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>

  <style>
    html, body, #map {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      background: #1C1917;
    }
    .leaflet-control-attribution,
    .leaflet-control-zoom { display: none !important; }
  </style>
</head>
<body>

<div id="map" role="img" aria-label="Hudson County map with District 4 highlighted in red"></div>

<script>
  /* ── District 4 boundary coordinates [lat, lng] ────────────────── */
  var district4 = [
    [40.751565, -74.045539], [40.750974, -74.045947], [40.75092, -74.045991],
    [40.750828, -74.046065], [40.750814, -74.046024], [40.750598, -74.045409],
    [40.750585, -74.045375], [40.750273, -74.044548], [40.750269, -74.044538],
    [40.74997, -74.043734], [40.749955, -74.043696], [40.749628, -74.042842],
    [40.749622, -74.042826], [40.749294, -74.04197], [40.747805, -74.042924],
    [40.747802, -74.042926], [40.747798, -74.042916], [40.747541, -74.04223],
    [40.747482, -74.042074], [40.74748, -74.042068], [40.74718, -74.041269],
    [40.747164, -74.041231], [40.746855, -74.040467], [40.746843, -74.040437],
    [40.746605, -74.039845], [40.746602, -74.03984], [40.746554, -74.039876],
    [40.746212, -74.040175], [40.745505, -74.040778], [40.745145, -74.041084],
    [40.744842, -74.041322], [40.744527, -74.04157], [40.74435, -74.041693],
    [40.744133, -74.041844], [40.743683, -74.042107], [40.743242, -74.042326],
    [40.742869, -74.042446], [40.741814, -74.042345], [40.741279, -74.042293],
    [40.741229, -74.042374], [40.741227, -74.042375], [40.741208, -74.042413],
    [40.741125, -74.042545], [40.741035, -74.042689], [40.740932, -74.042855],
    [40.740867, -74.042951], [40.740798, -74.043042], [40.740709, -74.043142],
    [40.740648, -74.043207], [40.740569, -74.043281], [40.740486, -74.043349],
    [40.740188, -74.043466], [40.740164, -74.043475], [40.740111, -74.043547],
    [40.740076, -74.043594], [40.740039, -74.043645], [40.740016, -74.043675],
    [40.739891, -74.04376], [40.739889, -74.043761], [40.739857, -74.043782],
    [40.739856, -74.043782], [40.739694, -74.043783], [40.739467, -74.043784],
    [40.739356, -74.043779], [40.739354, -74.043779], [40.738865, -74.043753],
    [40.738629, -74.043576], [40.738607, -74.04356], [40.738566, -74.043501],
    [40.738565, -74.0435], [40.738564, -74.043498], [40.738509, -74.043421],
    [40.738496, -74.043396], [40.738486, -74.043377], [40.738271, -74.043507],
    [40.738239, -74.043525], [40.738179, -74.04356], [40.73792, -74.04371],
    [40.73782, -74.043763], [40.73782, -74.043763], [40.737818, -74.043763],
    [40.737807, -74.043763], [40.737804, -74.043763], [40.737796, -74.043763],
    [40.737769, -74.043779], [40.737762, -74.043781], [40.737726, -74.043802],
    [40.737623, -74.043863], [40.737605, -74.043873], [40.736738, -74.042886],
    [40.73669, -74.042832], [40.73669, -74.042832], [40.73669, -74.042831],
    [40.736663, -74.042809], [40.736613, -74.042744], [40.736613, -74.042744],
    [40.736612, -74.042743], [40.73648, -74.042816], [40.736479, -74.042816],
    [40.736409, -74.042855], [40.736269, -74.042825], [40.736268, -74.042825],
    [40.736268, -74.042825], [40.736267, -74.042825], [40.736266, -74.042825],
    [40.736266, -74.042825], [40.736266, -74.042825], [40.736266, -74.042824],
    [40.736198, -74.042809], [40.736066, -74.042817], [40.736044, -74.042817],
    [40.735961, -74.042822], [40.735974, -74.042728], [40.735995, -74.042577],
    [40.735997, -74.042567], [40.736289, -74.040515], [40.736289, -74.040514],
    [40.736289, -74.040505], [40.736298, -74.040438], [40.736303, -74.0404],
    [40.736303, -74.040399], [40.736311, -74.040317], [40.736311, -74.040317],
    [40.736318, -74.040257], [40.736319, -74.040247], [40.736358, -74.039984],
    [40.736358, -74.039983], [40.736358, -74.039983], [40.736413, -74.039608],
    [40.736372, -74.039413], [40.736314, -74.039145], [40.736299, -74.03898],
    [40.736281, -74.038792], [40.73628, -74.038784], [40.73627, -74.038716],
    [40.736269, -74.038716], [40.736262, -74.038717], [40.736261, -74.038706],
    [40.735755, -74.03879], [40.735707, -74.038798], [40.735585, -74.038818],
    [40.735232, -74.038876], [40.735227, -74.038877], [40.7352, -74.038882],
    [40.735192, -74.038883], [40.735159, -74.03889], [40.735156, -74.038875],
    [40.735155, -74.038872], [40.734924, -74.037653], [40.734738, -74.036673],
    [40.734163, -74.033652], [40.734015, -74.033682], [40.733754, -74.033734],
    [40.733636, -74.033758], [40.733641, -74.034795], [40.733647, -74.036331],
    [40.733647, -74.036334], [40.733649, -74.036683], [40.733649, -74.036724],
    [40.733646, -74.036685], [40.73348, -74.034774], [40.733281, -74.034617],
    [40.732746, -74.034193], [40.732414, -74.033931], [40.731145, -74.034209],
    [40.731122, -74.034215], [40.731064, -74.034229], [40.731134, -74.034443],
    [40.730521, -74.034573], [40.730335, -74.034613], [40.730279, -74.034625],
    [40.730277, -74.034613], [40.730253, -74.034422], [40.730064, -74.034468],
    [40.729713, -74.034523], [40.729393, -74.034557], [40.729391, -74.034557],
    [40.729384, -74.034558], [40.729384, -74.034559], [40.729406, -74.034767],
    [40.729456, -74.035245], [40.729315, -74.034978], [40.72926, -74.034872],
    [40.729244, -74.034841], [40.729177, -74.034833], [40.728449, -74.034742],
    [40.728271, -74.03472], [40.72743, -74.034615], [40.727398, -74.034611],
    [40.72732, -74.034657], [40.726684, -74.035029], [40.725957, -74.035455],
    [40.725822, -74.035534], [40.725672, -74.035574], [40.725209, -74.035696],
    [40.724515, -74.035878], [40.724498, -74.035883], [40.724496, -74.035872],
    [40.724474, -74.035712], [40.724395, -74.035797], [40.724344, -74.035851],
    [40.723025, -74.036191], [40.722998, -74.036198], [40.721842, -74.03638],
    [40.721834, -74.036381], [40.721135, -74.036504], [40.721125, -74.036506],
    [40.721039, -74.036525], [40.721032, -74.036526], [40.720354, -74.036672],
    [40.720283, -74.036687], [40.720261, -74.036692], [40.719597, -74.036821],
    [40.719579, -74.036824], [40.718837, -74.036968], [40.718278, -74.037074],
    [40.718203, -74.037088], [40.717733, -74.037177], [40.7177, -74.037183],
    [40.716856, -74.037343], [40.716837, -74.037347], [40.716751, -74.037365],
    [40.716043, -74.037517], [40.716025, -74.037521], [40.715309, -74.037676],
    [40.715282, -74.037682], [40.715102, -74.036029], [40.7151, -74.036014],
    [40.714686, -74.036097], [40.714429, -74.036148], [40.714372, -74.036159],
    [40.713669, -74.036299], [40.713631, -74.036307], [40.712951, -74.036442],
    [40.712916, -74.036449], [40.713106, -74.038128], [40.713108, -74.038142],
    [40.713305, -74.039808], [40.713308, -74.039834], [40.713347, -74.039826],
    [40.714024, -74.039682], [40.714055, -74.039676], [40.714766, -74.039529],
    [40.714801, -74.039522], [40.715469, -74.039385], [40.715647, -74.04102],
    [40.71565, -74.041043], [40.715827, -74.042663], [40.715827, -74.042667],
    [40.715986, -74.043971], [40.71599, -74.044006], [40.716082, -74.044655],
    [40.716112, -74.044864], [40.716117, -74.0449], [40.716791, -74.044501],
    [40.716821, -74.044483], [40.716852, -74.044467], [40.716911, -74.044437],
    [40.717502, -74.044131], [40.71752, -74.044121], [40.717958, -74.043867],
    [40.71815, -74.043756], [40.718182, -74.043738], [40.718794, -74.043382],
    [40.718827, -74.043363], [40.71951, -74.042967], [40.719153, -74.04182],
    [40.719012, -74.041366], [40.719002, -74.041335], [40.719033, -74.041332],
    [40.719693, -74.04126], [40.719805, -74.041248], [40.720084, -74.041218],
    [40.720103, -74.041215], [40.720794, -74.041121], [40.720817, -74.041118],
    [40.721509, -74.041023], [40.721518, -74.041022], [40.722245, -74.040922],
    [40.722247, -74.040922], [40.723199, -74.040762], [40.72423, -74.040592],
    [40.725056, -74.040457], [40.725192, -74.042091], [40.725193, -74.042105],
    [40.724509, -74.042207], [40.724486, -74.042211], [40.724629, -74.043839],
    [40.72466, -74.043835], [40.725336, -74.043737], [40.725352, -74.043735],
    [40.725509, -74.043714], [40.725511, -74.043714], [40.726055, -74.043643],
    [40.72608, -74.043639], [40.72677, -74.043535], [40.726785, -74.043533],
    [40.726789, -74.043532], [40.727472, -74.043429], [40.728209, -74.043318],
    [40.728263, -74.04331], [40.728929, -74.043209], [40.728973, -74.043202],
    [40.729492, -74.043124], [40.7295, -74.043123], [40.730272, -74.042991],
    [40.730386, -74.043551], [40.730398, -74.04365], [40.730521, -74.044649],
    [40.730522, -74.044657], [40.730522, -74.044657], [40.730528, -74.044689],
    [40.730563, -74.044965], [40.730629, -74.045491], [40.730733, -74.04632],
    [40.730736, -74.046344], [40.730888, -74.047965], [40.730888, -74.047974],
    [40.73092, -74.048528], [40.730921, -74.048552], [40.731102, -74.050175],
    [40.731112, -74.050631], [40.731141, -74.051083], [40.731143, -74.051094],
    [40.731163, -74.051242], [40.731201, -74.051482], [40.731251, -74.051663],
    [40.731329, -74.051874], [40.731332, -74.051881], [40.731364, -74.051958],
    [40.72772, -74.054218], [40.72695, -74.054544], [40.726542, -74.054716],
    [40.725503, -74.055156], [40.724843, -74.055435], [40.724774, -74.055464],
    [40.724779, -74.055473], [40.725935, -74.057584], [40.726047, -74.057789],
    [40.726061, -74.057806], [40.726212, -74.057996], [40.726228, -74.058017],
    [40.726269, -74.058069], [40.726304, -74.058113], [40.72634, -74.058157],
    [40.726362, -74.058185], [40.726434, -74.058276], [40.726453, -74.0583],
    [40.726505, -74.058365], [40.726586, -74.058468], [40.726597, -74.058481],
    [40.726719, -74.058636], [40.726792, -74.058729], [40.726875, -74.058834],
    [40.72704, -74.059046], [40.72708, -74.059097], [40.727105, -74.059128],
    [40.727294, -74.059371], [40.727357, -74.059449], [40.727382, -74.059461],
    [40.727394, -74.059459], [40.727359, -74.059527], [40.726353, -74.06146],
    [40.726269, -74.061562], [40.726274, -74.061567], [40.72629, -74.061582],
    [40.726319, -74.061613], [40.726332, -74.061626], [40.726373, -74.061668],
    [40.726445, -74.061746], [40.726621, -74.061995], [40.726636, -74.062017],
    [40.726685, -74.062091], [40.726813, -74.062284], [40.726889, -74.062384],
    [40.727063, -74.062615], [40.727202, -74.062799], [40.727288, -74.062912],
    [40.727445, -74.06314], [40.72749, -74.063205], [40.727725, -74.063543],
    [40.727729, -74.06355], [40.727733, -74.063556], [40.727742, -74.063569],
    [40.727742, -74.063569], [40.727781, -74.063532], [40.727796, -74.063516],
    [40.727836, -74.063472], [40.727887, -74.063399], [40.727958, -74.063313],
    [40.727971, -74.063297], [40.728018, -74.063237], [40.728078, -74.063172],
    [40.728079, -74.063171], [40.728089, -74.06316], [40.728094, -74.063155],
    [40.728094, -74.063155], [40.728527, -74.06274], [40.728527, -74.06274],
    [40.728527, -74.06274], [40.728597, -74.062673], [40.728602, -74.062668],
    [40.728606, -74.062664], [40.72861, -74.06267], [40.728795, -74.062944],
    [40.728797, -74.062946], [40.728927, -74.063134], [40.72901, -74.063253],
    [40.72904, -74.063296], [40.729084, -74.063361], [40.72922, -74.063558],
    [40.729223, -74.063562], [40.729318, -74.063696], [40.729318, -74.063697],
    [40.729456, -74.063871], [40.72955, -74.063991], [40.72958, -74.064021],
    [40.729654, -74.064096], [40.729881, -74.064406], [40.729899, -74.064432],
    [40.730121, -74.064761], [40.73019, -74.064863], [40.730247, -74.064947],
    [40.730839, -74.064319], [40.73084, -74.064328], [40.731055, -74.066048],
    [40.731058, -74.066069], [40.731063, -74.066099], [40.731227, -74.067152],
    [40.731232, -74.067178], [40.731239, -74.067179], [40.731264, -74.067182],
    [40.731293, -74.067322], [40.731384, -74.067727], [40.731399, -74.067796],
    [40.731407, -74.067829], [40.731435, -74.06796], [40.73149, -74.068221],
    [40.731565, -74.068582], [40.731619, -74.068843], [40.731624, -74.068867],
    [40.731805, -74.06974], [40.73181, -74.069765], [40.731878, -74.070094],
    [40.732001, -74.070684], [40.732011, -74.070732], [40.732199, -74.071642],
    [40.732284, -74.072052], [40.73233, -74.072268], [40.732369, -74.072402],
    [40.732409, -74.07254], [40.732416, -74.072563], [40.733086, -74.072155],
    [40.733263, -74.072051], [40.733287, -74.072036], [40.733722, -74.07178],
    [40.733769, -74.07175], [40.734369, -74.071371], [40.73441, -74.071346],
    [40.734416, -74.071341], [40.735017, -74.070966], [40.735248, -74.070833],
    [40.735293, -74.070807], [40.735695, -74.070576], [40.735752, -74.070541],
    [40.736424, -74.070121], [40.736616, -74.070013], [40.736724, -74.069934],
    [40.736719, -74.069919], [40.736671, -74.069766], [40.736479, -74.069096],
    [40.736206, -74.068144], [40.735783, -74.066734], [40.735782, -74.066731],
    [40.735835, -74.066706], [40.736301, -74.066484], [40.736301, -74.066484],
    [40.736345, -74.066463], [40.736388, -74.066443], [40.736458, -74.066409],
    [40.736458, -74.066406], [40.736287, -74.064884], [40.73631, -74.064879],
    [40.736929, -74.064746], [40.736953, -74.064741], [40.737352, -74.064655],
    [40.737353, -74.064655], [40.737705, -74.064579], [40.737704, -74.064573],
    [40.737687, -74.064413], [40.737687, -74.064412], [40.73766, -74.06416],
    [40.73766, -74.064159], [40.737605, -74.063647], [40.737605, -74.063646],
    [40.737623, -74.063642], [40.739081, -74.063321], [40.739036, -74.062953],
    [40.738973, -74.062565], [40.738946, -74.06239], [40.738954, -74.062386],
    [40.739025, -74.062352], [40.739092, -74.06232], [40.739671, -74.061869],
    [40.739959, -74.061673], [40.739967, -74.061667], [40.740018, -74.061633],
    [40.740042, -74.061616], [40.740173, -74.061523], [40.741493, -74.060588],
    [40.741502, -74.060581], [40.741607, -74.060507], [40.742103, -74.060152],
    [40.742125, -74.060136], [40.742733, -74.059704], [40.742753, -74.059689],
    [40.742777, -74.059672], [40.743377, -74.059233], [40.743383, -74.059229],
    [40.743579, -74.059094], [40.744019, -74.05879], [40.744731, -74.060499],
    [40.744734, -74.060506], [40.745476, -74.0623], [40.745509, -74.062377],
    [40.746374, -74.064221], [40.746502, -74.064696], [40.746998, -74.066546],
    [40.748239, -74.064617], [40.748514, -74.064206], [40.74939, -74.062889],
    [40.748961, -74.061571], [40.748956, -74.061555], [40.748971, -74.061552],
    [40.749684, -74.061405], [40.749692, -74.061403], [40.749575, -74.06134],
    [40.74894, -74.060994], [40.748775, -74.060915], [40.748778, -74.060913],
    [40.748975, -74.060796], [40.749651, -74.060396], [40.750237, -74.05989],
    [40.750683, -74.059398], [40.751623, -74.058406], [40.752505, -74.057696],
    [40.752472, -74.057611], [40.752231, -74.057011], [40.752053, -74.056566],
    [40.752045, -74.056544], [40.75176, -74.055736], [40.751743, -74.055666],
    [40.751731, -74.055614], [40.751438, -74.054891], [40.751424, -74.054851],
    [40.7514, -74.054779], [40.751086, -74.054004], [40.751108, -74.053989],
    [40.751668, -74.053603], [40.752237, -74.053105], [40.752259, -74.053078],
    [40.752272, -74.053051], [40.752292, -74.053009], [40.752683, -74.052191],
    [40.75312, -74.05131], [40.753128, -74.051278], [40.753409, -74.050205],
    [40.752488, -74.047951], [40.752487, -74.047947], [40.751631, -74.045705],
    [40.751567, -74.045538], [40.751565, -74.045539]
  ];

  /* ── Create map (zoomed to District 4) ─────────────────────────── */
  var map = L.map("map", {
    center: [40.733, -74.078],
    zoom: 12,
    zoomControl: false,
    attributionControl: false,
    dragging: false,
    scrollWheelZoom: false,
    doubleClickZoom: false,
    touchZoom: false,
    boxZoom: false,
    keyboard: false,
    tap: false
  });

  /* ── Basemap: CartoDB Voyager (muted colors, readable on dark bg) ── */
  L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}{r}.png", {
    maxZoom: 19,
    subdomains: "abcd"
  }).addTo(map);

  /* ── Draw District 4 immediately (no fetch needed) ─────────────── */
  var d4Layer = L.polygon(district4, {
    fillColor: "#E92128",
    fillOpacity: 0.6,
    color: "#fff",
    weight: 2.5,
    opacity: 0.9
  }).addTo(map);

  /* ── Zoom in to District 4 for a more personal view ─────────────── */
  map.fitBounds(d4Layer.getBounds(), { padding: [18, 18], maxZoom: 14 });

  /* ── Load county boundary from GeoJSON (adds context around D4) ── */
  fetch("/hudson_county_geojson.geojson")
    .then(function (r) {
      if (!r.ok) throw new Error("HTTP " + r.status);
      return r.json();
    })
    .then(function (geojson) {
      L.geoJSON(geojson, {
        style: {
          fillColor: "#FFC8C8",
          fillOpacity: 0.12,
          color: "#FFC8C8",
          weight: 1.5,
          opacity: 0.5
        }
      }).addTo(map);

      /* Re-add D4 on top so it's above the county fill */
      d4Layer.bringToFront();
    })
    .catch(function (err) {
      console.warn("County GeoJSON not loaded:", err);
    });

  /* ── Ensure tiles render after iframe layout settles ────────────── */
  setTimeout(function () { map.invalidateSize(); }, 200);
  setTimeout(function () { map.invalidateSize(); }, 800);
</script>
</body>
</html>
